(()=>{"use strict";const t=function(){let t=0;return{createTodoItem:function(e,n,o){return{id:t++,title:e,description:n,dueDate:o}}}}(),e=function(){const t={};let e=null;return{getSelectedProject:function(){return e},selectProject:function(n){e=t[n.getName()]},addProject:function(e){t[e.getName()]=e},deleteProject:function(e){delete t[e.getName()]},getProjectList:function(){return t}}}(),n=function(){const n=function(){document.querySelector(".content").innerHTML='<button class="add-task-btn"><img src="../res/plus-circle-outline.svg"> Add a Task</button>',o();const t=e.getSelectedProject().getTodo();for(let o=0;o<t.length;o++){const{title:d,description:a,dueDate:c}=t[o],s=`<div class="task__title">${d}</div>\n        <button class="task__details-btn modal-open">DETAILS</button>\n        <div class="task__due-date">${c}</div>\n        <button class="task__delete-btn"></button>\n        <dialog class="task--modal hidden">\n          <button class="task--modal__exit-btn modal-close"></button>\n          <div class="task--modal__title">\n            ${d}\n          </div>\n          <div class="task--modal__description">\n           ${a}\n          </div>\n          <div class="task--modal__due-date">\n            ${c}\n          </div>\n        </dialog>`,l=t[o].id,i=document.createElement("div");i.classList.add("card--task"),i.setAttribute("task-id",l),i.innerHTML=s,document.querySelector(".add-task-btn").before(i),console.log(o,l,s);const r=document.querySelector(`[task-id="${l}"] .task--modal`),u=document.querySelector(`[task-id="${l}"] .modal-open`),m=document.querySelector(`[task-id="${l}"] .modal-close`);u.addEventListener("click",(()=>{r.showModal(),r.classList.toggle("hidden")})),m.addEventListener("click",(()=>{r.close(),r.classList.toggle("hidden")})),document.querySelector(`[task-id="${l}"] .task__delete-btn`).addEventListener("click",(()=>{e.getSelectedProject().removeListItem(l),n()}))}},o=function(){document.querySelector(".add-task-btn").addEventListener("click",(()=>{!function(){if(null!==document.querySelector("form"))return void console.log("ERROR: Add a Task Form already present!");const o=document.createElement("form"),d=function(){document.querySelector(".content").removeChild(o)};o.classList.add("form--add-task"),o.innerHTML='<label class="form--add-task__label" for="title">Title</label>\n      <input class="form--add-task__input" id="title" type="text" name="Task Title" placeholder="What to do?" required>\n      <label class="form--add-task__label" for="desciption">Description (optional)</label>\n      <textarea class="form--add-task__input" id="description" type="text" name="Task Description" placeholder="e.g. Coordinate with teammates via Zoom"></textarea>\n      <label class="form--add-task__label" for="dueDate">Due Date</label>\n      <input class="form--add-task__input" id="dueDate" type="date" name="Task Due Date" required>\n      <div class="form--add-task__buttons">\n        <button class="buttons__add type="submit">Add</button><button class="buttons__cancel" type="button">Cancel</button>\n      </div>',document.querySelector(".add-task-btn").before(o),document.querySelector(".buttons__cancel").addEventListener("click",(()=>{d()})),document.querySelector(".buttons__add").addEventListener("click",(o=>{o.preventDefault();const a=document.querySelector("#title").value,c=document.querySelector("#description").value;let s=new Date(document.querySelector("#dueDate").value);if(s=s.toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"}),a&&"Invalid Date"!==s){const o=t.createTodoItem(a,c,s);e.getSelectedProject().addListItem(o),e.getSelectedProject().sortList(),console.log("APPENDED LIST",e.getSelectedProject().getTodo()),d(),n()}}))}()}))};return{initializeAddATaskButton:o}}(),o=function(t){let e=[];return{getTodo:function(){return e},getName:function(){return"Home"},addListItem:function(t){e.push(t)},removeListItem:function(t){e=e.filter((e=>e.id!==t))},sortList:function(){e.sort(((t,e)=>{let n=new Date(t.dueDate),o=new Date(e.dueDate);return[n,o]=[n.getTime(),o.getTime()],n<o?-1:n>o?1:0}))}}}();e.addProject(o),e.selectProject(o),n.initializeAddATaskButton()})();