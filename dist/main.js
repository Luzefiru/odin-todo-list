(()=>{"use strict";const e=function(){let e=0;return{createTodoItem:function(t,o,n){return{id:e++,title:t,description:o,dueDate:n}}}}(),t=function(){const e={};let t=null;return{getSelectedProject:function(){return t},selectProject:function(o){t=e[o.getName()]},addProject:function(t){e[t.getName()]=t},deleteProject:function(t){delete e[t.getName()]},getProjectList:function(){return e}}}(),o={renderProjectTasks:function(){const e=t.getSelectedProject().getTodo();for(let t=0;t<e.length;t++){const{title:o,description:n,dueDate:d}=e[t];console.log(o,n,d);const a=`<div class="task__title">${o}</div>\n        <button class="task__details-btn modal-open">DETAILS</button>\n        <div class="task__due-date">${d}</div>\n        <button class="task__delete-btn"></button>\n        <dialog class="task--modal hidden">\n          <button class="task--modal__exit-btn modal-close"></button>\n          <div class="task--modal__title">\n            ${o}\n          </div>\n          <div class="task--modal__description">\n           ${n}\n          </div>\n          <div class="task--modal__due-date">\n            ${d}\n          </div>\n        </dialog>`,c=document.createElement("div");c.classList.add("card--task"),c.setAttribute("index",t),c.innerHTML=a,document.querySelector(".add-task-btn").before(c),console.log(t,e[t],a);const l=document.querySelector(`[index="${t}"] .task--modal`),s=document.querySelector(`[index="${t}"] .modal-open`),i=document.querySelector(`[index="${t}"] .modal-close`);s.addEventListener("click",(()=>{l.showModal(),l.classList.toggle("hidden")})),i.addEventListener("click",(()=>{l.close(),l.classList.toggle("hidden")}))}},initializeAddATaskButton:function(){document.querySelector(".add-task-btn").addEventListener("click",(()=>{!function(){if(null!==document.querySelector("form"))return void console.log("ERROR: Add a Task Form already present!");const o=document.createElement("form"),n=function(){document.querySelector(".content").removeChild(o)};o.classList.add("form--add-task"),o.innerHTML='<label class="form--add-task__label" for="title">Title</label>\n      <input class="form--add-task__input" id="title" type="text" name="Task Title" placeholder="What to do?" required>\n      <label class="form--add-task__label" for="desciption">Description (optional)</label>\n      <textarea class="form--add-task__input" id="description" type="text" name="Task Description" placeholder="e.g. Coordinate with teammates via Zoom"></textarea>\n      <label class="form--add-task__label" for="dueDate">Due Date</label>\n      <input class="form--add-task__input" id="dueDate" type="date" name="Task Due Date" required>\n      <div class="form--add-task__buttons">\n        <button class="buttons__add type="submit">Add</button><button class="buttons__cancel" type="button">Cancel</button>\n      </div>',document.querySelector(".add-task-btn").before(o),document.querySelector(".buttons__cancel").addEventListener("click",(()=>{n()})),document.querySelector(".buttons__add").addEventListener("click",(o=>{o.preventDefault();const d=document.querySelector("#title").value,a=document.querySelector("#description").value,c=document.querySelector("#dueDate").value;if(d&&c){const o=e.createTodoItem(d,a,c);t.getSelectedProject().addListItem(o),t.getSelectedProject().sortList(),console.log("APPENDED LIST",t.getSelectedProject().getTodo()),n()}}))}()}))}},n=o,d=function(e){let t=[];return{getTodo:function(){return t},getName:function(){return"Home"},addListItem:function(e){t.push(e)},removeListItem:function(e){t=t.filter((t=>t.id!==e))},sortList:function(){t.sort(((e,t)=>{let o=new Date(e.dueDate),n=new Date(t.dueDate);return[o,n]=[o.getTime(),n.getTime()],o<n?-1:o>n?1:0}))}}}();t.addProject(d),t.selectProject(d),n.initializeAddATaskButton(),t.getSelectedProject().addListItem(e.createTodoItem("Help Out","with friends do it","3/3/2023")),t.getSelectedProject().addListItem(e.createTodoItem("First Day of the month","POGGG","3/1/2023")),console.log("Selected Project:",t.getSelectedProject().getTodo()),n.renderProjectTasks();const a=document.querySelector(".task--modal"),c=document.querySelector(".modal-open"),l=document.querySelector(".modal-close");c.addEventListener("click",(()=>{a.showModal(),a.classList.toggle("hidden")})),l.addEventListener("click",(()=>{a.close(),a.classList.toggle("hidden")}))})();